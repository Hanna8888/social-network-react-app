"use strict";(self.webpackChunksocial_network=self.webpackChunksocial_network||[]).push([[257],{8257:function(e,t,n){n.r(t),n.d(t,{default:function(){return D}});var r=n(2791),u=n(4233),a=n(7166),s=n(3032),c=n(9086),o=(n(985),function(e,t){return(0,s.Z)((0,a.Z)().mark((function n(){var r;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.j.get("users?page=".concat(e,"&count=").concat(t));case 2:return r=n.sent,n.abrupt("return",r.data);case 4:case"end":return n.stop()}}),n)})))()}),i=function(e){return(0,s.Z)((0,a.Z)().mark((function t(){var n;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.j.post("follow/".concat(e));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))()},l=function(e){return(0,s.Z)((0,a.Z)().mark((function t(){var n;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.j.delete("follow/".concat(e));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})))()},f=n(1250);function p(e){return{type:f.Z.ADD_FRIEND,userId:e}}function m(e){return{type:f.Z.DELETE_FRIEND,userId:e}}function _(e){return{type:f.Z.SET_CURRENT_PAGE,currentPage:e}}function v(e,t){return{type:f.Z.TOGGLE_IS_WAIT_SUBSCRIBE,isFetching:e,userId:t}}function d(e,t){return function(){var n=(0,s.Z)((0,a.Z)().mark((function n(r){var u;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,o(e,t);case 3:u=n.sent,r((c=!1,{type:f.Z.TOGGLE_IS_FETCHING,isFetching:c})),r((s=u.items,{type:f.Z.SET_USERS,users:s})),r((a=u.totalCount,{type:f.Z.SET_TOTAL_COUNT,totalCount:a})),r(_(e)),n.next=13;break;case 10:throw n.prev=10,n.t0=n.catch(0),new Error(n.t0);case 13:case"end":return n.stop()}var a,s,c}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}()}var E=n(328),Z=n(6222),h=n(3430),w=n(1694),b=n.n(w),k="styles_Root__SWqGI",C="styles_Root__item__29qU0",g="styles_Root__item_selected__XsGM0";function I(e){for(var t=e.className,n=e.totalCount,a=e.pageSize,s=e.currentPage,c=e.portionSize,o=(0,u.I0)(),i=(0,r.useState)(1),l=(0,h.Z)(i,2),f=l[0],p=l[1],m=Math.ceil(n/a),_=[],v=1;v<=m;v++)_.push(v);var E=Math.ceil(m/c),w=(f-1)*c,I=f*c;return r.createElement("ul",{className:b()(k,t)},f>1&&r.createElement("button",{onClick:function(){return p(f-1)}},"prev"),_.filter((function(e){return e>=w&&e<=I})).map((function(e,t){return r.createElement("li",{key:t,className:b()((0,Z.Z)({},g,s===e),C),onClick:function(){o(d(e,a))}},e)})),f<E&&r.createElement("button",{onClick:function(){return p(f+1)}},"next"))}I.defaultProps={className:"",portionSize:10};var N=I,x=n(1523),y=n(4353),S="Item_Root__m0vom",T="Item_img__3uGUm",R="Item_button__-VqCU";function G(e){var t=e.className,n=e.userid,c=e.photos,o=e.status,f=e.name,_=e.followed,d=e.subscribersList,E=(0,u.I0)();return r.createElement("li",{key:n,className:b()(S,t)},r.createElement(x.OL,{to:"/profile/"+n},r.createElement("img",{src:c.large?c.large:y,className:T,alt:""}),r.createElement("span",null,o),r.createElement("br",null),r.createElement("span",null,f)),r.createElement("div",null,_?r.createElement("button",{disabled:d.some((function(e){return e===n})),className:R,onClick:function(){var e;E((e=n,function(){var t=(0,s.Z)((0,a.Z)().mark((function t(n){return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(v(!0,e)),t.next=4,l(e);case 4:0===t.sent.resultCode&&n(m(e)),n(v(!1,e)),t.next=12;break;case 9:throw t.prev=9,t.t0=t.catch(0),new Error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()))}},"delete friend"):r.createElement("button",{disabled:d.some((function(e){return e===n})),className:R,onClick:function(){var e;E((e=n,function(){var t=(0,s.Z)((0,a.Z)().mark((function t(n){return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(v(!0,e)),t.next=4,i(e);case 4:0===t.sent.resultCode&&n(p(e)),n(v(!1,e)),t.next=12;break;case 9:throw t.prev=9,t.t0=t.catch(0),new Error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()))}},"add friend")))}G.defaultProps={className:""};var L=G,U="Users_users__aDvLq",P="Users_user__list__boRgM";var D=function(){var e=(0,u.I0)(),t=(0,u.v9)((function(e){return e.users.pageSize})),n=(0,u.v9)((function(e){return e.users.currentPage})),a=(0,u.v9)((function(e){return e.users.users})),s=(0,u.v9)((function(e){return e.users.totalCount})),c=(0,u.v9)((function(e){return e.users.isFetching})),o=(0,u.v9)((function(e){return e.users.subscribersList}));return(0,r.useEffect)((function(){e(d(n,t))}),[n,e,t]),c?r.createElement(E.Z,null):r.createElement("div",{className:U},r.createElement(N,{totalCount:s,pageSize:t,currentPage:n}),r.createElement("ul",{className:P},a.map((function(e,t){return r.createElement(L,{key:t,userid:e.id,photos:e.photos,status:e.status,name:e.name,followed:e.followed,subscribersList:o})}))))}}}]);
//# sourceMappingURL=257.7ccc8179.chunk.js.map